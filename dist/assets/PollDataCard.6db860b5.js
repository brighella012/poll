import{S as x,i as A,a as S,b,f as p,s as w,e as u,t as D,c as L,n as f,d,h,j as R,k,u as E,v as T}from"./index.25adb146.js";import{C as g,L as H,a as P,p as B,b as I,B as N,c as j}from"./chartjs-plugin-datalabels.esm.a4ccba6c.js";function G(i){let t,l,o,s,e,r;return{c(){t=u("div"),l=u("h4"),o=D(i[0]),s=L(),e=u("div"),r=u("canvas"),this.c=f,d(r,"id","myChart"),d(r,"width","100%"),d(r,"height","100%"),d(e,"class","chart"),d(t,"class","card")},m(n,c){b(n,t,c),h(t,l),h(l,o),h(t,s),h(t,e),h(e,r),i[3](r)},p(n,[c]){c&1&&R(o,n[0])},i:f,o:f,d(n){n&&k(t),i[3](null)}}}function M(i,t,l){g.register(H,P,B,I,N,j);let{title:o}=t,{pollData:s}=t,e;const c={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{enabled:!0,displayColors:!1},datalabels:{clip:!1,anchor:"end",align:"right",color:"black",font:{weight:"bold"},formatter:a=>`${a}%`},legend:{display:!1}},scales:{y:{ticks:{crossAlign:"far",font:{size:11}},grid:{display:!0}},x:{grid:{display:!1}}},layout:{padding:{right:25}}},m=()=>s.map(a=>a.color),C=()=>s.map(a=>a.label),y=()=>s.map(a=>a.value),_=()=>new g(e,{type:"bar",data:{labels:C(),datasets:[{label:"Votes %",data:y(),backgroundColor:m()}]},options:c});E(()=>{const a=_();return()=>{a.destroy()}});function v(a){T[a?"unshift":"push"](()=>{e=a,l(1,e)})}return i.$$set=a=>{"title"in a&&l(0,o=a.title),"pollData"in a&&l(2,s=a.pollData)},[o,e,s,v]}class O extends x{constructor(t){super(),this.shadowRoot.innerHTML="<style>.card{width:100%;display:flex;height:100%;flex-direction:column;gap:var(--space-xs)}.chart{background-color:--color-;height:100%;background-color:#f9f9f9;border-radius:7px;padding:var(--space-2xs);box-shadow:var(--shadow-card)}</style>",A(this,{target:this.shadowRoot,props:S(this.attributes),customElement:!0},M,G,w,{title:0,pollData:2},null),t&&(t.target&&b(t.target,this,t.anchor),t.props&&(this.$set(t.props),p()))}static get observedAttributes(){return["title","pollData"]}get title(){return this.$$.ctx[0]}set title(t){this.$$set({title:t}),p()}get pollData(){return this.$$.ctx[2]}set pollData(t){this.$$set({pollData:t}),p()}}customElements.define("poll-card",O);
